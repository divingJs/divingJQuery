<div class="row">
	<div class="col-sm-12">
		<div id="btnConfig"></div>
	</div>
</div>

<div id="cntJS">
	<div class="d-article">
		<div class="d-article-section">
<textarea type="text" id="codigo">
</textarea>	
		</div>
	</div>
</div>

<div id="cntHTML">
	<div class="d-article">
		<div class="d-article-section">
			<iframe src="" frameborder="0" id="salida"></iframe>
			<!--div id="btnC"></div-->
		</div>
	</div>
</div>
<script type="text/javascript">
		$('#btnC').divButton({
			text:'Clickme',
			type:'primary'
		});
		var area = document.getElementById("codigo");
	var cierreScript = "<"+"/script>";
var vle = 
'<!DOCTYPE html>\n'+
'<html lang="en">\n'+
'<head>\n'+
'	<meta charset="UTF-8">\n'+
'	<meta name="viewport" content="width=device-width, initial-scale=1.0">\n'+
'	<title>divButton</title>\n'+
'	<script src="https://code.jquery.com/jquery-3.7.1.js">'+cierreScript+'\n'+
'	<script type="text/javascript" d-role="d-editor-script" src="../js/diving-4.0.1.js">'+cierreScript+'\n'+
'	<link rel="stylesheet" href="../css/diving-4.0.1.css">\n'+
'	<link  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"    rel="stylesheet">\n'+
'	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" >'+cierreScript+'\n'+
'	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" 	>'+cierreScript+'\n'+
'</head>\n'+
'<body>\n'+
'	<div id="boton"></div>\n'+
'	<script type="text/javascript">\n'+
'		$("#boton").divButton({\n'+
'			text:"Clickme",\n'+
'			type:"primary"\n'+
'		});\n'+
'	'+cierreScript+'\n'+
'</body>\n'+
'</html>';
	area.value=vle;

      var editor = CodeMirror.fromTextArea(area, {
        mode: myModeSpec,
        selectionPointer: true
      });

	editor.on('change',function(e){
		var value = editor.getValue();

	});

	var ifrm = $('#salida')[0].contentWindow;
	var doc = ifrm.document;
	doc.head= vle.match(/<head([a-zA-Z0-9\,\.\/\:\@\<\>\s\"\=\-]+)head>/gm)[0] ;
	

	doc.body.innerHTML = vle;
	setTimeout(function(){
		var ifrm = $('#salida')[0].contentWindow;
		var doc = ifrm.document;
		eval(doc.body);
	},100);


</script>








